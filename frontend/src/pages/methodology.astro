---
import Base from "@/layouts/Base.astro";
---

<Base title="Methodology" description="How FutureSignals detects and analyzes prediction market movements.">
  <article class="container py-8 max-w-3xl">
    <h1 class="headline-xl mb-6">Methodology</h1>

    <div class="prose prose-lg max-w-none">
      <p class="lead text-xl text-muted-foreground mb-8">
        A technical overview of how we detect signals and generate narratives
        from prediction market data.
      </p>

      <h2>Data Collection</h2>
      <p>
        We poll prediction market APIs at regular intervals, collecting:
      </p>
      <ul>
        <li>Current YES/NO prices (implied probabilities)</li>
        <li>24-hour trading volume</li>
        <li>Order book depth</li>
        <li>Recent trade history</li>
      </ul>

      <h2>Signal Detection Criteria</h2>
      <p>A signal is generated when ALL of the following conditions are met:</p>

      <div class="not-prose my-6 p-4 bg-muted/30 rounded-lg font-mono text-sm">
        <p><strong>Minimum Change:</strong> |Δprobability| ≥ 7%</p>
        <p><strong>Volume Threshold:</strong> 24h volume ≥ $50,000</p>
        <p><strong>Market Activity:</strong> ≥10 trades in detection window</p>
        <p><strong>Price Validity:</strong> Spread ≤ 5 cents</p>
      </div>

      <h2>Significance Levels</h2>
      <p>Signals are classified into four significance levels:</p>

      <table class="not-prose w-full my-6 text-sm">
        <thead>
          <tr class="border-b">
            <th class="text-left py-2 px-3">Level</th>
            <th class="text-left py-2 px-3">Criteria</th>
          </tr>
        </thead>
        <tbody>
          <tr class="border-b">
            <td class="py-2 px-3 font-semibold text-muted-foreground">Low</td>
            <td class="py-2 px-3">7-10% change, $50k-100k volume</td>
          </tr>
          <tr class="border-b">
            <td class="py-2 px-3 font-semibold text-blue-500">Medium</td>
            <td class="py-2 px-3">10-15% change, $100k-500k volume</td>
          </tr>
          <tr class="border-b">
            <td class="py-2 px-3 font-semibold text-amber-500">High</td>
            <td class="py-2 px-3">15-25% change OR $500k+ volume</td>
          </tr>
          <tr class="border-b">
            <td class="py-2 px-3 font-semibold text-breaking">Breaking</td>
            <td class="py-2 px-3">25%+ change, $1M+ volume, rapid movement</td>
          </tr>
        </tbody>
      </table>

      <h2>Narrative Generation</h2>
      <p>
        Once a signal is detected, we generate an editorial narrative using AI that includes:
      </p>
      <ul>
        <li><strong>What Changed:</strong> The factual market movement</li>
        <li><strong>Why It Matters:</strong> Context and implications</li>
        <li><strong>Related Context:</strong> News events, correlated markets</li>
        <li><strong>What to Watch:</strong> Key upcoming events or levels</li>
      </ul>

      <h2>Filtering & Quality Control</h2>
      <p>We apply additional filters to reduce noise:</p>
      <ul>
        <li><strong>Duplicate suppression:</strong> Same market can only signal once per 6 hours</li>
        <li><strong>Liquidity checks:</strong> Markets must have minimum depth</li>
        <li><strong>Resolution filtering:</strong> Markets within 24h of resolution excluded</li>
        <li><strong>Manipulation detection:</strong> Single large trade vs. organic flow</li>
      </ul>

      <h2>Category Classification</h2>
      <p>Markets are automatically categorized based on keyword analysis:</p>
      <ul>
        <li><strong>Politics:</strong> election, vote, president, congress, fed, policy</li>
        <li><strong>Tech:</strong> AI, OpenAI, Google, Apple, regulation, tech</li>
        <li><strong>Crypto:</strong> bitcoin, ethereum, ETF, SEC, DeFi, crypto</li>
        <li><strong>Global:</strong> war, conflict, ceasefire, treaty, NATO, UN</li>
      </ul>

      <h2>Limitations</h2>
      <p>
        Our methodology has known limitations:
      </p>
      <ul>
        <li>We can detect movement but not always explain causation</li>
        <li>Low-volume markets may produce noisy signals</li>
        <li>Market manipulation is possible though we try to detect it</li>
        <li>AI-generated narratives may occasionally misinterpret context</li>
      </ul>

      <h2>Feedback</h2>
      <p>
        If you notice issues with our signal detection or narrative quality,
        please reach out on <a href="https://twitter.com/futuresignals" target="_blank" rel="noopener">Twitter</a>.
      </p>
    </div>
  </article>
</Base>
